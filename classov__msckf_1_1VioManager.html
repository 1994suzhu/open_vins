<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ov_msckf::VioManager class | OpenVINS</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600&amp;subset=latin-ext" />
  <link rel="stylesheet" href="m-udel+documentation.compiled.css" />
  <link rel="stylesheet" href="custom.css" />
  <link rel="icon" href="favicon-light.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#2f73a3" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">OpenVINS</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="namespaceov__core.html">ov_core</a></li>
            <li><a href="namespaceov__type.html">ov_type</a></li>
            <li><a href="namespaceov__msckf.html">ov_msckf</a></li>
            <li><a href="namespaceov__eval.html">ov_eval</a></li>
            <li><a href="annotated.html">Classes</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="7">
            <li><a href="https://github.com/rpng/open_vins/">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="namespaceov__msckf.html">ov_msckf</a>::<wbr/></span>VioManager <span class="m-thin">class</span>
        </h1>
        <p>Core class that manages the entire system.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
                <li><a href="#pro-methods">Protected functions</a></li>
                <li><a href="#pro-attribs">Protected variables</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>This class contains the state and other algorithms needed for the MSCKF to work. We feed in measurements into this class and send them to their respective algorithms. If we have measurements to propagate or update with, this class will call on our state to do that.</p>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#aa2376a11794739f8d7811d6e7c0dd447" class="m-doc">VioManager</a>(</span><span class="m-doc-wrap"><a href="structov__msckf_1_1VioManagerOptions.html" class="m-doc">VioManagerOptions</a>&amp; params_)</span>
            </dt>
            <dd>Default constructor, will load all configuration variables.</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a24e1167e460bc67f495b2e560a7772e0" class="m-doc">feed_measurement_imu</a>(</span><span class="m-doc-wrap">double timestamp,
              Eigen::Vector3d wm,
              Eigen::Vector3d am)</span>
            </dt>
            <dd>Feed function for inertial data.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a47ed542a095517a9bf99d04afbed8e67" class="m-doc">feed_measurement_monocular</a>(</span><span class="m-doc-wrap">double timestamp,
              cv::Mat&amp; img0,
              size_t cam_id)</span>
            </dt>
            <dd>Feed function for a single camera.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ad579c87f0501f0d1bf610471a67f885f" class="m-doc">feed_measurement_stereo</a>(</span><span class="m-doc-wrap">double timestamp,
              cv::Mat&amp; img0,
              cv::Mat&amp; img1,
              size_t cam_id0,
              size_t cam_id1)</span>
            </dt>
            <dd>Feed function for stereo camera pair.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a12eedc237bb96866b368dc87d7f53aa5" class="m-doc">feed_measurement_simulation</a>(</span><span class="m-doc-wrap">double timestamp,
              const std::vector&lt;<a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a>&gt;&amp; camids,
              const std::vector&lt;std::vector&lt;std::pair&lt;size_t, Eigen::VectorXf&gt;&gt;&gt;&amp; feats)</span>
            </dt>
            <dd>Feed function for a synchronized simulated cameras.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a163c357d9ac0fc89061212f6ba19b5c8" class="m-doc">initialize_with_gt</a>(</span><span class="m-doc-wrap">Eigen::Matrix&lt;double, 17, 1&gt; imustate)</span>
            </dt>
            <dd>Given a state, this will initialize our IMU state.</dd>
            <dt id="ae463166d4a27c3576fab416751bea40f">
              <span class="m-doc-wrap-bumper">auto <a href="#ae463166d4a27c3576fab416751bea40f" class="m-doc-self">initialized</a>(</span><span class="m-doc-wrap">) -&gt; bool</span>
            </dt>
            <dd>If we are initialized or not.</dd>
            <dt id="a12069947bc27ee0595978f2d188551bc">
              <span class="m-doc-wrap-bumper">auto <a href="#a12069947bc27ee0595978f2d188551bc" class="m-doc-self">initialized_time</a>(</span><span class="m-doc-wrap">) -&gt; double</span>
            </dt>
            <dd>Timestamp that the system was initialized at.</dd>
            <dt id="aec22fef6ea015b3c5bd011ffab57baaa">
              <span class="m-doc-wrap-bumper">auto <a href="#aec22fef6ea015b3c5bd011ffab57baaa" class="m-doc-self">get_state</a>(</span><span class="m-doc-wrap">) -&gt; <a href="classov__msckf_1_1State.html" class="m-doc">State</a>*</span>
            </dt>
            <dd>Accessor to get the current state.</dd>
            <dt id="acc031017030234eb6b1e95332f1ea028">
              <span class="m-doc-wrap-bumper">auto <a href="#acc031017030234eb6b1e95332f1ea028" class="m-doc-self">get_propagator</a>(</span><span class="m-doc-wrap">) -&gt; <a href="classov__msckf_1_1Propagator.html" class="m-doc">Propagator</a>*</span>
            </dt>
            <dd>Accessor to get the current propagator.</dd>
            <dt id="a878afc0e50ebdb91ba8bb46622f722d1">
              <span class="m-doc-wrap-bumper">auto <a href="#a878afc0e50ebdb91ba8bb46622f722d1" class="m-doc-self">get_track_feat</a>(</span><span class="m-doc-wrap">) -&gt; <a href="classov__core_1_1TrackBase.html" class="m-doc">TrackBase</a>*</span>
            </dt>
            <dd>Get feature tracker.</dd>
            <dt id="a21383a3d0f1e73e33fdba8ff0eca8188">
              <span class="m-doc-wrap-bumper">auto <a href="#a21383a3d0f1e73e33fdba8ff0eca8188" class="m-doc-self">get_track_aruco</a>(</span><span class="m-doc-wrap">) -&gt; <a href="classov__core_1_1TrackBase.html" class="m-doc">TrackBase</a>*</span>
            </dt>
            <dd>Get aruco feature tracker.</dd>
            <dt id="a6f44315b0084e276598d4ce508574e4b">
              <span class="m-doc-wrap-bumper">auto <a href="#a6f44315b0084e276598d4ce508574e4b" class="m-doc-self">get_good_features_MSCKF</a>(</span><span class="m-doc-wrap">) -&gt; std::vector&lt;Eigen::Vector3d&gt;</span>
            </dt>
            <dd>Returns 3d features used in the last update in global frame.</dd>
            <dt id="a49a5a2bd6fc45448f88cacf082cc18b6">
              <span class="m-doc-wrap-bumper">auto <a href="#a49a5a2bd6fc45448f88cacf082cc18b6" class="m-doc-self">get_features_SLAM</a>(</span><span class="m-doc-wrap">) -&gt; std::vector&lt;Eigen::Vector3d&gt;</span>
            </dt>
            <dd>Returns 3d SLAM features in the global frame.</dd>
            <dt id="ab2ba74990cefccbdcadab97aef1c83a1">
              <span class="m-doc-wrap-bumper">auto <a href="#ab2ba74990cefccbdcadab97aef1c83a1" class="m-doc-self">get_features_ARUCO</a>(</span><span class="m-doc-wrap">) -&gt; std::vector&lt;Eigen::Vector3d&gt;</span>
            </dt>
            <dd>Returns 3d ARUCO features in the global frame.</dd>
            <dt id="a4889c56e5f28e7f9e86e7be9d64d4371">
              <span class="m-doc-wrap-bumper">auto <a href="#a4889c56e5f28e7f9e86e7be9d64d4371" class="m-doc-self">did_zero_velocity_update</a>(</span><span class="m-doc-wrap">) -&gt; bool</span>
            </dt>
            <dd>Return true if we did a zero velocity update.</dd>
            <dt id="a99654b6bdd0be6635b6563aae2a9bfb1">
              <span class="m-doc-wrap-bumper">auto <a href="#a99654b6bdd0be6635b6563aae2a9bfb1" class="m-doc-self">get_zero_velocity_update_image</a>(</span><span class="m-doc-wrap">) -&gt; cv::Mat</span>
            </dt>
            <dd>Return the zero velocity update image.</dd>
            <dt id="a96eb4e9e41e743d117b6453ab181684f">
              <span class="m-doc-wrap-bumper">auto <a href="#a96eb4e9e41e743d117b6453ab181684f" class="m-doc-self">hist_last_marg_state</a>(</span><span class="m-doc-wrap">double&amp; timestamp,
              Eigen::Matrix&lt;double, 7, 1&gt;&amp; stateinG) -&gt; bool</span>
            </dt>
            <dd>Returns the last timestamp we have marginalized (true if we have a state)</dd>
            <dt id="a17343f7298787ef17d125de83566909e">
              <span class="m-doc-wrap-bumper">void <a href="#a17343f7298787ef17d125de83566909e" class="m-doc-self">hist_get_features</a>(</span><span class="m-doc-wrap">std::unordered_map&lt;size_t, Eigen::Vector3d&gt;&amp; feat_posinG,
              std::unordered_map&lt;size_t, std::unordered_map&lt;size_t, std::vector&lt;Eigen::VectorXf&gt;&gt;&gt;&amp; feat_uvs,
              std::unordered_map&lt;size_t, std::unordered_map&lt;size_t, std::vector&lt;Eigen::VectorXf&gt;&gt;&gt;&amp; feat_uvs_norm,
              std::unordered_map&lt;size_t, std::unordered_map&lt;size_t, std::vector&lt;double&gt;&gt;&gt;&amp; feat_timestamps)</span>
            </dt>
            <dd>Returns historical feature positions, and measurements times and uvs used to get its estimate.</dd>
          </dl>
        </section>
        <section id="pro-methods">
          <h2><a href="#pro-methods">Protected functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a479d6dffdfd052ac56f71efc7b70ad62" class="m-doc">try_to_initialize</a>(</span><span class="m-doc-wrap">) -&gt; bool</span>
            </dt>
            <dd>This function will try to initialize the state.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a71372cd87f15b9ebfd12d3b86d16aa2a" class="m-doc">do_feature_propagate_update</a>(</span><span class="m-doc-wrap">double timestamp)</span>
            </dt>
            <dd>This will do the propagation and feature updates to the state.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a278cad5a1dc9963fc6983eaced71dee7" class="m-doc">update_keyframe_historical_information</a>(</span><span class="m-doc-wrap">const std::vector&lt;<a href="classov__core_1_1Feature.html" class="m-doc">Feature</a>*&gt;&amp; features)</span>
            </dt>
            <dd>This function will update our historical tracking information. This historical information includes the best estimate of a feature in the global frame. For all features it also has the normalized and raw pixel coordinates at each timestep. The state is also recorded after it is marginalized out of the state.</dd>
          </dl>
        </section>
        <section id="pro-attribs">
          <h2><a href="#pro-attribs">Protected variables</a></h2>
          <dl class="m-doc">
            <dt id="a69eebf475686d6e17af5f7a5c7f0a8ac">
              <a href="structov__msckf_1_1VioManagerOptions.html" class="m-doc">VioManagerOptions</a> <a href="#a69eebf475686d6e17af5f7a5c7f0a8ac" class="m-doc-self">params</a>
            </dt>
            <dd>Manager parameters.</dd>
            <dt id="ad9b928a55e84837fe4d71d586c075c4c">
              <a href="classov__msckf_1_1State.html" class="m-doc">State</a>* <a href="#ad9b928a55e84837fe4d71d586c075c4c" class="m-doc-self">state</a>
            </dt>
            <dd>Our master state object :D.</dd>
            <dt id="a282146143a4da3cc0733e3c35dbd7f53">
              <a href="classov__msckf_1_1Propagator.html" class="m-doc">Propagator</a>* <a href="#a282146143a4da3cc0733e3c35dbd7f53" class="m-doc-self">propagator</a>
            </dt>
            <dd><a href="classov__msckf_1_1Propagator.html" class="m-doc">Propagator</a> of our state.</dd>
            <dt id="a2fbb98ac93fd7f242b0f84c9c6dbfc1c">
              <a href="classov__core_1_1TrackBase.html" class="m-doc">TrackBase</a>* <a href="#a2fbb98ac93fd7f242b0f84c9c6dbfc1c" class="m-doc-self">trackFEATS</a>
            </dt>
            <dd>Our sparse feature tracker (klt or descriptor)</dd>
            <dt id="a87cbf121edf5854ab57d252523b36207">
              <a href="classov__core_1_1TrackBase.html" class="m-doc">TrackBase</a>* <a href="#a87cbf121edf5854ab57d252523b36207" class="m-doc-self">trackARUCO</a>
            </dt>
            <dd>Our aruoc tracker.</dd>
            <dt id="af5f472f05a246c3ed47fc78b092087f4">
              <a href="classov__core_1_1InertialInitializer.html" class="m-doc">InertialInitializer</a>* <a href="#af5f472f05a246c3ed47fc78b092087f4" class="m-doc-self">initializer</a>
            </dt>
            <dd><a href="classov__msckf_1_1State.html" class="m-doc">State</a> initializer.</dd>
            <dt id="af39939911eb700d326389255b75738c9">
              bool <a href="#af39939911eb700d326389255b75738c9" class="m-doc-self">is_initialized_vio</a>
            </dt>
            <dd>Boolean if we are initialized or not.</dd>
            <dt id="a27cf22a4dccd1baca97882f3ea875c91">
              <a href="classov__msckf_1_1UpdaterMSCKF.html" class="m-doc">UpdaterMSCKF</a>* <a href="#a27cf22a4dccd1baca97882f3ea875c91" class="m-doc-self">updaterMSCKF</a>
            </dt>
            <dd>Our MSCKF feature updater.</dd>
            <dt id="abb271827378e38581d87ec7bc387f5d7">
              <a href="classov__msckf_1_1UpdaterSLAM.html" class="m-doc">UpdaterSLAM</a>* <a href="#abb271827378e38581d87ec7bc387f5d7" class="m-doc-self">updaterSLAM</a>
            </dt>
            <dd>Our MSCKF feature updater.</dd>
            <dt id="a823222a60f13f844fc1a0582b82de17b">
              <a href="classov__msckf_1_1UpdaterZeroVelocity.html" class="m-doc">UpdaterZeroVelocity</a>* <a href="#a823222a60f13f844fc1a0582b82de17b" class="m-doc-self">updaterZUPT</a>
            </dt>
            <dd>Our aruoc tracker.</dd>
            <dt id="a40926fd6cbd206a7e87fc3042782f222">
              std::vector&lt;Eigen::Vector3d&gt; <a href="#a40926fd6cbd206a7e87fc3042782f222" class="m-doc-self">good_features_MSCKF</a>
            </dt>
            <dd>Good features that where used in the last update.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="aa2376a11794739f8d7811d6e7c0dd447"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> ov_msckf::<wbr />VioManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#aa2376a11794739f8d7811d6e7c0dd447" class="m-doc-self">VioManager</a>(</span><span class="m-doc-wrap"><a href="structov__msckf_1_1VioManagerOptions.html" class="m-doc">VioManagerOptions</a>&amp; params_)</span></span>
            </h3>
            <p>Default constructor, will load all configuration variables.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">params_</td>
                  <td>Parameters loaded from either ROS or CMDLINE</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a24e1167e460bc67f495b2e560a7772e0"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_msckf::<wbr />VioManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a24e1167e460bc67f495b2e560a7772e0" class="m-doc-self">feed_measurement_imu</a>(</span><span class="m-doc-wrap">double timestamp,
              Eigen::Vector3d wm,
              Eigen::Vector3d am)</span></span>
            </h3>
            <p>Feed function for inertial data.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">timestamp</td>
                  <td>Time of the inertial measurement</td>
                </tr>
                <tr>
                  <td>wm</td>
                  <td>Angular velocity</td>
                </tr>
                <tr>
                  <td>am</td>
                  <td>Linear acceleration</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a47ed542a095517a9bf99d04afbed8e67"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_msckf::<wbr />VioManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a47ed542a095517a9bf99d04afbed8e67" class="m-doc-self">feed_measurement_monocular</a>(</span><span class="m-doc-wrap">double timestamp,
              cv::Mat&amp; img0,
              size_t cam_id)</span></span>
            </h3>
            <p>Feed function for a single camera.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">timestamp</td>
                  <td>Time that this image was collected</td>
                </tr>
                <tr>
                  <td>img0</td>
                  <td>Grayscale image</td>
                </tr>
                <tr>
                  <td>cam_id</td>
                  <td>Unique id of what camera the image is from</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="ad579c87f0501f0d1bf610471a67f885f"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_msckf::<wbr />VioManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ad579c87f0501f0d1bf610471a67f885f" class="m-doc-self">feed_measurement_stereo</a>(</span><span class="m-doc-wrap">double timestamp,
              cv::Mat&amp; img0,
              cv::Mat&amp; img1,
              size_t cam_id0,
              size_t cam_id1)</span></span>
            </h3>
            <p>Feed function for stereo camera pair.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">timestamp</td>
                  <td>Time that this image was collected</td>
                </tr>
                <tr>
                  <td>img0</td>
                  <td>Grayscale image</td>
                </tr>
                <tr>
                  <td>img1</td>
                  <td>Grayscale image</td>
                </tr>
                <tr>
                  <td>cam_id0</td>
                  <td>Unique id of what camera the image is from</td>
                </tr>
                <tr>
                  <td>cam_id1</td>
                  <td>Unique id of what camera the image is from</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a12eedc237bb96866b368dc87d7f53aa5"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_msckf::<wbr />VioManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a12eedc237bb96866b368dc87d7f53aa5" class="m-doc-self">feed_measurement_simulation</a>(</span><span class="m-doc-wrap">double timestamp,
              const std::vector&lt;<a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a>&gt;&amp; camids,
              const std::vector&lt;std::vector&lt;std::pair&lt;size_t, Eigen::VectorXf&gt;&gt;&gt;&amp; feats)</span></span>
            </h3>
            <p>Feed function for a synchronized simulated cameras.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">timestamp</td>
                  <td>Time that this image was collected</td>
                </tr>
                <tr>
                  <td>camids</td>
                  <td>Camera ids that we have simulated measurements for</td>
                </tr>
                <tr>
                  <td>feats</td>
                  <td>Raw uv simulated measurements</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a163c357d9ac0fc89061212f6ba19b5c8"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_msckf::<wbr />VioManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a163c357d9ac0fc89061212f6ba19b5c8" class="m-doc-self">initialize_with_gt</a>(</span><span class="m-doc-wrap">Eigen::Matrix&lt;double, 17, 1&gt; imustate)</span></span>
            </h3>
            <p>Given a state, this will initialize our IMU state.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">imustate</td>
                  <td><a href="classov__msckf_1_1State.html" class="m-doc">State</a> in the MSCKF ordering: [time(sec),q_GtoI,p_IinG,v_IinG,b_gyro,b_accel]</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a479d6dffdfd052ac56f71efc7b70ad62"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool ov_msckf::<wbr />VioManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a479d6dffdfd052ac56f71efc7b70ad62" class="m-doc-self">try_to_initialize</a>(</span><span class="m-doc-wrap">) <span class="m-label m-warning">protected</span></span></span>
            </h3>
            <p>This function will try to initialize the state.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>True if we have successfully initialized</td>
                </tr>
              </tfoot>
            </table>
<p>This should call on our initializer and try to init the state. In the future we should call the structure-from-motion code from here. This function could also be repurposed to re-initialize the system after failure. *</p>
          </div></section>
          <section class="m-doc-details" id="a71372cd87f15b9ebfd12d3b86d16aa2a"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_msckf::<wbr />VioManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a71372cd87f15b9ebfd12d3b86d16aa2a" class="m-doc-self">do_feature_propagate_update</a>(</span><span class="m-doc-wrap">double timestamp) <span class="m-label m-warning">protected</span></span></span>
            </h3>
            <p>This will do the propagation and feature updates to the state.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">timestamp</td>
                  <td>The most recent timestamp we have tracked to</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a278cad5a1dc9963fc6983eaced71dee7"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_msckf::<wbr />VioManager::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a278cad5a1dc9963fc6983eaced71dee7" class="m-doc-self">update_keyframe_historical_information</a>(</span><span class="m-doc-wrap">const std::vector&lt;<a href="classov__core_1_1Feature.html" class="m-doc">Feature</a>*&gt;&amp; features) <span class="m-label m-warning">protected</span></span></span>
            </h3>
            <p>This function will update our historical tracking information. This historical information includes the best estimate of a feature in the global frame. For all features it also has the normalized and raw pixel coordinates at each timestep. The state is also recorded after it is marginalized out of the state.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">features</td>
                  <td>Features using in the last update phase</td>
                </tr>
              </tbody>
            </table>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Generated by <a href="https://doxygen.org/">Doxygen</a> 1.8.19 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
