<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ov_core::Landmark class | OpenVINS</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600&amp;subset=latin-ext" />
  <link rel="stylesheet" href="m-udel+documentation.compiled.css" />
  <link rel="stylesheet" href="custom.css" />
  <link rel="icon" href="favicon-light.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#2f73a3" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">OpenVINS</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="namespaceov__core.html">ov_core</a></li>
            <li><a href="namespaceov__eval.html">ov_eval</a></li>
            <li><a href="namespaceov__msckf.html">ov_msckf</a></li>
            <li><a href="annotated.html">Classes</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="6">
            <li><a href="https://github.com/rpng/open_vins/">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="namespaceov__core.html">ov_core</a>::<wbr/></span>Landmark <span class="m-thin">class</span>
        </h1>
        <p><a href="classov__core_1_1Type.html" class="m-doc">Type</a> that implements a persistant SLAM feature.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#base-classes">Base classes</a></li>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
                <li><a href="#pub-attribs">Public variables</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>We store the feature ID that should match the IDs in the trackers. Additionally if this is an anchored representation we store what clone timestamp this is anchored from and what camera. If this features should be marginalized its flag can be set and during cleanup it will be removed.</p>
        <section id="base-classes">
          <h2><a href="#base-classes">Base classes</a></h2>
          <dl class="m-doc">
            <dt>
              class <a href="classov__core_1_1Vec.html" class="m-doc">Vec</a>
            </dt>
            <dd>Derived <a href="classov__core_1_1Type.html" class="m-doc">Type</a> class that implements vector variables.</dd>
          </dl>
        </section>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt id="aebaa1fd1a45e303f5431cb65e0c160cb">
              <span class="m-doc-wrap-bumper"><a href="#aebaa1fd1a45e303f5431cb65e0c160cb" class="m-doc-self">Landmark</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd>Default constructor (feature is always a <a href="classov__core_1_1Vec.html" class="m-doc">Vec</a> of size 3)</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ad8e8c8b0477862440eb787e4b2032fcd" class="m-doc">update</a>(</span><span class="m-doc-wrap">const Eigen::VectorXd dx) <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>Overrides the default vector update rule We want to selectively update the FEJ value if we are using an anchored representation.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ac4f8e2cecf6c4fc00b7680ebe95c2fa9" class="m-doc">get_xyz</a>(</span><span class="m-doc-wrap">bool getfej) -&gt; Eigen::Matrix&lt;double, 3, 1&gt;</span>
            </dt>
            <dd>Will return the position of the feature in the global frame of reference.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ac34319e2057c3c63154cef9a9aa08a2e" class="m-doc">set_from_xyz</a>(</span><span class="m-doc-wrap">Eigen::Matrix&lt;double, 3, 1&gt; p_FinG,
              bool isfej)</span>
            </dt>
            <dd>Will set the current value based on the representation.</dd>
          </dl>
        </section>
        <section id="pub-attribs">
          <h2><a href="#pub-attribs">Public variables</a></h2>
          <dl class="m-doc">
            <dt id="a3a8efcdbac98654a1f9a6c1aeec704d2">
              size_t <a href="#a3a8efcdbac98654a1f9a6c1aeec704d2" class="m-doc-self">_featid</a>
            </dt>
            <dd><a href="classov__core_1_1Feature.html" class="m-doc">Feature</a> ID of this landmark (corresponds to frontend id)</dd>
            <dt id="af3e8650123382857392257f54703d129">
              int <a href="#af3e8650123382857392257f54703d129" class="m-doc-self">_anchor_cam_id</a>
            </dt>
            <dd>What camera ID our pose is anchored in!! By default the first measurement is the anchor.</dd>
            <dt id="ac1eda5b2b1ae865e17cb14a4496732a0">
              double <a href="#ac1eda5b2b1ae865e17cb14a4496732a0" class="m-doc-self">_anchor_clone_timestamp</a>
            </dt>
            <dd>Timestamp of anchor clone.</dd>
            <dt id="aa299b320a9cc181cf76c43bacb2b9fea">
              bool <a href="#aa299b320a9cc181cf76c43bacb2b9fea" class="m-doc-self">has_had_anchor_change</a>
            </dt>
            <dd>Boolean if this landmark has had at least one anchor change.</dd>
            <dt id="a632a92f6b7c83766b25384f0fc3897fd">
              bool <a href="#a632a92f6b7c83766b25384f0fc3897fd" class="m-doc-self">should_marg</a>
            </dt>
            <dd>Boolean if this landmark should be marginalized out.</dd>
            <dt id="aad43d6fde03f42ae92f00342a190c929">
              <a href="classov__core_1_1FeatureRepresentation.html#a6da28654fec70a2010f1826d316abc44" class="m-doc">FeatureRepresentation::<wbr />Representation</a> <a href="#aad43d6fde03f42ae92f00342a190c929" class="m-doc-self">_feat_representation</a>
            </dt>
            <dd>What feature representation this feature currently has.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="ad8e8c8b0477862440eb787e4b2032fcd"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_core::<wbr />Landmark::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ad8e8c8b0477862440eb787e4b2032fcd" class="m-doc-self">update</a>(</span><span class="m-doc-wrap">const Eigen::VectorXd dx) <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>Overrides the default vector update rule We want to selectively update the FEJ value if we are using an anchored representation.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">dx</td>
                  <td>Additive error state correction</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="ac4f8e2cecf6c4fc00b7680ebe95c2fa9"><div>
            <h3>
              <span class="m-doc-wrap-bumper">Eigen::Matrix&lt;double, 3, 1&gt; ov_core::<wbr />Landmark::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ac4f8e2cecf6c4fc00b7680ebe95c2fa9" class="m-doc-self">get_xyz</a>(</span><span class="m-doc-wrap">bool getfej)</span></span>
            </h3>
            <p>Will return the position of the feature in the global frame of reference.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">getfej</td>
                  <td>Set to true to get the landmark FEJ value</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>Position of feature either in global or anchor frame</td>
                </tr>
              </tfoot>
            </table>
<p>CASE: Global 3d feature representation CASE: Anchored 3D feature representation</p><p>CASE: Global inverse depth feature representation CASE: Anchored full inverse depth feature representation</p><p>CASE: Anchored MSCKF inverse depth feature representation</p>
          </div></section>
          <section class="m-doc-details" id="ac34319e2057c3c63154cef9a9aa08a2e"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_core::<wbr />Landmark::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ac34319e2057c3c63154cef9a9aa08a2e" class="m-doc-self">set_from_xyz</a>(</span><span class="m-doc-wrap">Eigen::Matrix&lt;double, 3, 1&gt; p_FinG,
              bool isfej)</span></span>
            </h3>
            <p>Will set the current value based on the representation.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">p_FinG</td>
                  <td>Position of the feature either in global or anchor frame</td>
                </tr>
                <tr>
                  <td>isfej</td>
                  <td>Set to true to set the landmark FEJ value</td>
                </tr>
              </tbody>
            </table>
<p>CASE: Global 3d feature representation CASE: Anchored 3d feature representation</p><p>CASE: Global inverse depth feature representation CASE: Anchored inverse depth feature representation</p><p>CASE: MSCKF anchored inverse depth representation</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Generated by <a href="https://doxygen.org/">Doxygen</a> 1.8.16 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
